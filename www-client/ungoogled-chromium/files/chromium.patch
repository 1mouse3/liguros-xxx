diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/Manifest /pf4/Manifest
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/Manifest	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/Manifest	2025-02-16 14:18:19.879910323 -0000
@@ -14,7 +14,6 @@
 DIST chromium-132.0.6834.110-lite.tar.xz 1355639400 BLAKE2B dcdc2ea8878afe35c2818b79f524495ed5a8c9702cb2e9cd0354a268acefa861db22b5f6b097bde2a7f5934278a4385c8d1dfa3b30bf6956f47966176c10ca44 SHA512 474f7d261d2133a2570dff164e098a12e208cd23492ba097c83daa8f2db9c7cb4f4c8f08bcf65e907899a158a064b93932b285dd5431347fca95943375637a25
 DIST chromium-132.0.6834.159-lite.tar.xz 1355687912 BLAKE2B a41097604b5462d177795b4f863347a62501cc157acfcf9b9d1886c37b31962bb253ac084f6ffb21d8b7a01ad0fb53a37a4d031131d36c1fbad859c2eee35f80 SHA512 4b1aca0611c1c865427f313778fff093a786507c2fe6bf2acfef7a072b6934d7e8d323aa979bd6314fce8ee431250e460bcafbe70a7e187ce0a818ea6897cbd5
 DIST chromium-132.0.6834.83-lite.tar.xz 1866605108 BLAKE2B 8f96cb3e9f3ebbd6762339a4142904f537ccbc10458cc414651397ad206e708cfc748cd3b7c08ca7681c95392f32a491efbfc7271c644993a7506bd41a75d31c SHA512 c372baabfb1c0a9e346e91464484d1b82a33dcc61c33cd48e147a3a2963d10f9b3159ccd20fa296dd9b0c0d600323515f8676145c512290b505ed7d28d2a516c
-DIST chromium-133.0.6943.126-lite.tar.xz 1453925564 BLAKE2B a67e4d48319d7d262204a29a0730f3ff02be8dfb5f18aabbc015dcb31786d612e15dd52be5147b78f525a4a9a449c7dda7ffcc1294ea16091d819d4e37dde5d5 SHA512 a050d94fcff5014614e7f96221dff15675f1e301d1c1231eb04ad649bc7ee9bb2f9b86da8a1946bf1c8cad8f6cba742b27dcfe96584934744e6034e5285cc195
 DIST chromium-133.0.6943.53-lite.tar.xz 1454753512 BLAKE2B 20a34d81783ebe5ca03efad0ab4100d8b06cbb51cfda42e8f3ac7f56989eac121d0de54a792bf0123c16cb8ae0541cf3dc106a075e186a185d05a6dfdb2dbbff SHA512 f823886a22448a4343a70a27a2a7202005e8faa753576c79792c91adac6447187279e74693a666395e99177ec7eef6655749b8008c566a1ac6a09a919383eaf1
 DIST chromium-133.0.6943.98-lite.tar.xz 1454977340 BLAKE2B 9e564cb5e84b8e90d5b5f499dfbaf923036a1f4c8190e6b3c317e6a094206bfc78be5c6279dbedbb5889a27805b75f3d05c0239c31d40ac0bf80dcc60554238d SHA512 44ab6c659cb85ab447cb5ce78560b8ac5bee7348ab15781b574fb7ff69e7dc413630cd869cae60419d23ef96ce64b5eb03ebc7018b0aa78617797f07a5ff48ac
 DIST chromium-1f9a4db9f8f0d8b1561a6e264d2d88f064f19fbc.patch 1329 BLAKE2B 1a46b49046fb8dce10ac149c11208a8bc0172cc2b6337875a6e9ef453ea7b87be740dd0a832cb747944b33249d203ba9f9a3bdca309bd2392403e259010bf9b9 SHA512 082912878d0faa54959fd51a805e459d7b773d7f5239f20c50a48a68076dac57a946d4d7e257547bd524e9d3a2112ec363e538aa47967a718583b7ccd37c1574
@@ -44,7 +43,6 @@
 DIST chromium-ppc64le-gentoo-patches-1.tar.xz 5636 BLAKE2B 1d898939df023c59285b27bee552470483ea06375d1ee8d6947b89c5927c23cc7bfec6b49f3b376ece931d11a56f8e2a45791e0f92ad61974fc8c34c1082d89c SHA512 8a71cb007e47cda8e5fe5d185729389e65c48bd322c8ee8b3986bee8571427b959628f2666bda646a3f89ae64197c0957d3626845ff03461dbd5dee4c964d07c
 DIST chromium_127.0.6533.88-1raptor0~deb12u2.debian.tar.xz 8675684 BLAKE2B 868de8a681496c5da5aa9ebb8d27c84b35313038da85232c89d58f6ab7a4ac15866e8d0650d5283023aa38ab55da93f3b6a97280afdd1a3cf69a021517bfa8ab SHA512 3afea47fedad9c1374b238028ea642cde603f548af9992fdcff836745cf8c4243d0781f56e8710ca1bb22b0a552944c62a67a4799f8073fbe309d0f5a514c724
 DIST cromite-00f5239a3c15b6c898b246664f654c19f25b9122.tar.gz 35904556 BLAKE2B 935f3c49b6cdac13e000cce0360bf2b3fd1603d1b8d0c491dd275456ea7b24bd0377b6e24f1a8025616dfdb09f3a9965d54969df1e4e07eadc40f9d0211b539b SHA512 fb323285e3e6d4ba2696ed0d68deb54f5696b4192b6d8ecb37c36d1eeb8bfd02df5a06330b32f9f957b795b111f8c8b48309c70f7aa277b443d8a02e4ca54df7
-DIST cromite-072ad730393e7a3b252645c139bc66e020ec8f87.tar.gz 36343651 BLAKE2B 1700c003ef6c1dbcb93cbb3ec4e9d00b09f2d5f89de4576ffe7a546b2ecefbe58c88b46cd6a7f552ff0dff66afa45f2d309ce4baa9679e2ce1019889a1c56cb8 SHA512 944e54979427fb7f1099489bff8243dcbd0085c602eb2c54db4257ccaeb3855866c817d9c526a99f4c44fa02349593a31a43a6f80c8ed895e251d9a25681fb28
 DIST cromite-32fa8435523f71f1d2b6ac2facdea91e874c6904.tar.gz 36297846 BLAKE2B aab6f414b2be466f9606427ee24bd8e3f52b453feae9319525b271612e16d92230a1f57365dabcf27dad1c39fa6e9aba4850c7af3433c12e8a3607038f80e271 SHA512 6e7ca4cea9c7009ce02424485d78e87a3e4677a0ca89b69440235694764ec8c110d84608df6cb9c02be30365a2696c155c6b4d07db84040bdd37122d09cb145e
 DIST cromite-36e27b9c60c551348fe4e65a537d16c76d9b48e8.tar.gz 36310361 BLAKE2B 7bef70725a03cff6b81e084fdf2ad2dd81175de5ff122bce52e7a67bdbb8466eba7802a1b32a7c0f0858fdcf43bc4602769e31d87adb986c2280d5f4aaa502af SHA512 31de86707ea0725e4ee92bf9a51cabb53782992d4cdcdf6a3ea3154e41f1616429986bfc682d5077d820b553f44d4384111e5e2e2393f59ea6f4adb48ad55470
 DIST cromite-38b33957e856350381acf1d3d66af866683a1fba.tar.gz 35870642 BLAKE2B bb5f947b165951d9d20a84436285ff53a1419848a53585c79f01a9712e2ec539829c1ac972c9327f86ba38e6452ac4fb6492e24ae27bb3a2c1685b46d86ee50b SHA512 3fcb863ac27b02b0f4d1690c8de0d71da86918c42a166461f9a221fa8e1487d8cb259f28128155923f7d7ef3ae833b99e6c2bec595a51aee79676a05d318beb4
@@ -78,5 +76,4 @@
 DIST ungoogled-chromium-133.0.6943.53-1.tar.gz 699304 BLAKE2B e12704cd65becdadf693e8b0f6325a93a63af7bf94a1283b84efa48c6a595107ae384b569563c1b61def232c760368fe57173a25dc19dff62b63309d34c716d0 SHA512 a613cb25a0cd1bd1f5cc506834c05b3148b0bb5cf0f4a11a6f3eae4388edec250dbba8793021c4711cafb8506ec4ae88fbe3a456c112b1158a3a155f7b722ed1
 DIST ungoogled-chromium-133.0.6943.98-1.tar.gz 699291 BLAKE2B 7e96a71f5f6c34380f118418cbb494bbe35ee0127b38f4a62860cb963a08084b88d2581d54153c82230522b990afeee981bb0f9afd611f647d35719076a1e00d SHA512 e25da20d4e1ba7ce904dad2c5dfbd7dca631faf5bb37ba13ff7a96c5b3cb163051bb6623d98a54948b29501e52d79f23a634304e729b19a27b71a9bc2884cbe0
 DIST ungoogled-chromium-3a44f4d87c58e2e1ee53e5ad3a7fdf1f057c2d86.tar.gz 1243070 BLAKE2B de3bf9c940eaa6db81aeb2c02c1008669609a6045f49784f1c4016c3012c4463bb53c81f5bbd802925380b16a7c4c95573dc5916e65bfe0c3861e6e9ce348f40 SHA512 afa6a74b792fb98ada3332e695f47684ce3f75a36b0207ce8d508fd9fcad04e4f0f9a0abd967965126330bcec1d0226d65a748b72394d464a3c6adfdc15323c0
-DIST ungoogled-chromium-f534f8cfa2aa062195fdb99f8e18b203e3fd7970.tar.gz 699260 BLAKE2B 8580a766163532100a6383381b98f118c7d33dd225353d9931eba46b90c34d6822663ed66bbd4ec649fba88ee19e006fb4f12a19c65bf53bf5e902df1e74479d SHA512 a4b4141dc3b83dd2ee44a0cffcedf37206f59022b74410a3e4979b169c5e5cfce8a08f19c4e4d305b65e71a440a8a6ca01e4a47849beb444b35ef84d5f9d165b
 DIST webrtc-36e597995147c021798182a5ebe1681f11f730fd.patch 1559 BLAKE2B 7639fab0eb2d7ccd81f5c93cb5f06489238c006e306e7fd6efabbd618c57006235447157e4e145a466ae7c5d2a01c63e930568c5f7cbdeb9b86b81b16b1ecbff SHA512 4926e2811e22e8a8ca61efb928b9d22e932d57b86db3940b3fa1406b550d8d0c942073e230e5f078d5f817639672eadb2d051ee63a7329aa3cdb890880deed5c
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/files/bad-font-gc2.patch /pf4/files/bad-font-gc2.patch
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/files/bad-font-gc2.patch	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/files/bad-font-gc2.patch	2025-02-18 19:00:10.099962170 -0000
@@ -14,7 +14,7 @@
 #8  0x0000555558ebcdc0 in v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::internal::GarbageCollectionReason, char const*) ()
 #9  0x0000555558ecfe14 in v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags)::$_0::operator()() const ()
 #10 0x0000555558ecfb65 in void heap::base::Stack::SetMarkerAndCallbackImpl<v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags)::$_0>(heap::base::Stack*, void*, void const*) ()
---Type <RET> for more, q to quit, c to continue without paging--
+ --Type <RET> for more, q to quit, c to continue without paging--
 #11 0x000055555955216b in PushAllRegistersAndIterateStack ()
 #12 0x0000555558eb8c19 in v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) ()
 #13 0x0000555558eba3eb in v8::internal::Heap::FinalizeIncrementalMarkingAtomically(v8::internal::GarbageCollectionReason) ()
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/files/disable-bluez-r1.patch /pf4/files/disable-bluez-r1.patch
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/files/disable-bluez-r1.patch	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/files/disable-bluez-r1.patch	2025-02-18 18:58:40.089963265 -0000
@@ -9,6 +9,7 @@
 It also breaks WebAuthn: https://github.com/PF4Public/gentoo-overlay/issues/254
 
 ---
+
 --- a/headless/lib/browser/headless_browser_main_parts_posix.cc
 +++ b/headless/lib/browser/headless_browser_main_parts_posix.cc
 @@ -25,9 +25,8 @@
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/files/disable-bluez-r2.patch /pf4/files/disable-bluez-r2.patch
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/files/disable-bluez-r2.patch	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/files/disable-bluez-r2.patch	2025-02-18 18:53:49.789966799 -0000
@@ -9,6 +9,7 @@
 It also breaks WebAuthn: https://github.com/PF4Public/gentoo-overlay/issues/254
 
 ---
+
 --- a/headless/lib/browser/headless_browser_main_parts_posix.cc
 +++ b/headless/lib/browser/headless_browser_main_parts_posix.cc
 @@ -28,9 +28,8 @@
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/files/disable-bluez.patch /pf4/files/disable-bluez.patch
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/files/disable-bluez.patch	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/files/disable-bluez.patch	2025-02-18 18:58:51.619963125 -0000
@@ -9,6 +9,7 @@
 It also breaks WebAuthn: https://github.com/PF4Public/gentoo-overlay/issues/254
 
 ---
+
 --- a/headless/lib/browser/headless_browser_main_parts_posix.cc
 +++ b/headless/lib/browser/headless_browser_main_parts_posix.cc
 @@ -25,9 +25,8 @@
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/files/ffmpeg-nb_coded_side_data-r1.patch /pf4/files/ffmpeg-nb_coded_side_data-r1.patch
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/files/ffmpeg-nb_coded_side_data-r1.patch	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/files/ffmpeg-nb_coded_side_data-r1.patch	2025-02-18 18:59:02.499962993 -0000
@@ -6,6 +6,7 @@
 
 
 ---
+
 diff --git a/media/ffmpeg/ffmpeg_common.cc b/media/ffmpeg/ffmpeg_common.cc
 index 3c97e4a6cf4c781..a55e4ab51d5b353 100644
 --- a/media/ffmpeg/ffmpeg_common.cc
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/files/ffmpeg-nb_coded_side_data.patch /pf4/files/ffmpeg-nb_coded_side_data.patch
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/files/ffmpeg-nb_coded_side_data.patch	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/files/ffmpeg-nb_coded_side_data.patch	2025-02-18 18:59:11.369962885 -0000
@@ -6,6 +6,7 @@
 
 
 ---
+
 diff --git a/media/ffmpeg/ffmpeg_common.cc b/media/ffmpeg/ffmpeg_common.cc
 index 3c97e4a6cf4c781..a55e4ab51d5b353 100644
 --- a/media/ffmpeg/ffmpeg_common.cc
Only in /pf4/files: mold.patch
Only in /var/db/repos/pf4public/www-client/ungoogled-chromium/: ungoogled-chromium-133.0.6943.126_p1.ebuild
diff '--color=auto' -ru /var/db/repos/pf4public/www-client/ungoogled-chromium/ungoogled-chromium-133.0.6943.98_p1.ebuild /pf4/ungoogled-chromium-133.0.6943.98_p1.ebuild
--- /var/db/repos/pf4public/www-client/ungoogled-chromium/ungoogled-chromium-133.0.6943.98_p1.ebuild	2025-02-21 10:17:55.623335167 -0000
+++ /pf4/ungoogled-chromium-133.0.6943.98_p1.ebuild	2025-02-21 10:26:01.973337494 -0000
@@ -37,7 +37,7 @@
 SLOT="0"
 KEYWORDS="amd64 ~arm64 ~ppc64 ~x86"
 IUSE_SYSTEM_LIBS="abseil-cpp av1 brotli crc32c double-conversion ffmpeg +harfbuzz +icu jsoncpp +libusb libvpx +openh264 openjpeg +png re2 snappy woff2 +zstd"
-IUSE="+X bluetooth cfi +clang convert-dict cups cpu_flags_arm_neon custom-cflags debug enable-driver gtk4 hangouts headless hevc kerberos libcxx nvidia +official optimize-thinlto optimize-webui override-data-dir pax-kernel pgo +proprietary-codecs pulseaudio qt5 qt6 screencast selinux thinlto cromite vaapi wayland widevine cpu_flags_ppc_vsx3"
+IUSE="+X bluetooth cfi +clang convert-dict cups cpu_flags_arm_neon custom-cflags debug enable-driver gtk4 hangouts headless hevc kerberos libcxx mold nvidia +official optimize-thinlto optimize-webui override-data-dir pax-kernel pgo +proprietary-codecs pulseaudio qt5 qt6 screencast selinux thinlto cromite vaapi wayland widevine cpu_flags_ppc_vsx3"
 RESTRICT="
 	!system-ffmpeg? ( proprietary-codecs? ( bindist ) )
 	!system-openh264? ( bindist )
@@ -452,6 +452,11 @@
 		sed -i '/default_stack_frames/Q' "${T}/compiler.patch" || die
 	fi
 
+	# Patch to add mold over gold
+	if use mold; then
+		eapply	${FILESDIR}/mold.patch
+	fi
+
 	local PATCHES=(
 		"${T}/compiler.patch"
 		"${FILESDIR}/chromium-cross-compile.patch"
